<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact â€“ Optimum Entreprise</title>
    
    <!-- Fonts Premium (Identiques Ã  l'index) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Space+Grotesk:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>

    <style>
        /* --- 1. CONFIGURATION & VARIABLES (BASE INDEX) --- */
        :root {
            --c-bordeaux: #5d1212;
            --c-bordeaux-dark: #2a0505;
            --c-gold: #D4AF37;
            --c-gold-glow: #f3e5ab;
            --c-black: #050505;
            --c-dark-grey: #0f0f0f;
            --c-white: #ffffff;
            --c-glass: rgba(255, 255, 255, 0.03);
            --c-glass-border: rgba(212, 175, 55, 0.15);
            
            --f-display: 'Cinzel', serif;
            --f-body: 'Space Grotesk', sans-serif;
            
            --ease-out-expo: cubic-bezier(0.19, 1, 0.22, 1);
        }

        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            cursor: none; /* Custom cursor */
        }

        html { scroll-behavior: smooth; font-size: 16px; }

        body {
            background-color: var(--c-black);
            color: var(--c-white);
            font-family: var(--f-body);
            overflow-x: hidden;
            line-height: 1.6;
        }

        /* --- 2. CUSTOM CURSOR --- */
        .cursor-dot, .cursor-outline {
            position: fixed; top: 0; left: 0; transform: translate(-50%, -50%);
            border-radius: 50%; z-index: 9999; pointer-events: none;
        }
        .cursor-dot { width: 8px; height: 8px; background-color: var(--c-gold); }
        .cursor-outline {
            width: 40px; height: 40px; border: 1px solid var(--c-gold);
            transition: width 0.2s, height 0.2s, background-color 0.2s;
        }
        body:hover .cursor-outline { background-color: rgba(212, 175, 55, 0.1); }

        /* --- 3. UTILITIES & HEADER --- */
        .container { max-width: 1400px; margin: 0 auto; padding: 0 5%; position: relative; z-index: 2; }
        .text-gold { color: var(--c-gold); }
        .text-bordeaux { color: var(--c-bordeaux); }

        header {
            position: fixed; top: 0; left: 0; width: 100%; padding: 2rem 5%;
            display: flex; justify-content: space-between; align-items: center;
            z-index: 100; transition: 0.4s ease; mix-blend-mode: difference;
        }
        header.scrolled {
            padding: 1rem 5%; background: rgba(5, 5, 5, 0.8);
            backdrop-filter: blur(10px); border-bottom: 1px solid var(--c-glass-border); mix-blend-mode: normal;
        }
        .logo { font-family: var(--f-display); font-size: 1.5rem; font-weight: 700; letter-spacing: 2px; color: var(--c-white); text-decoration: none;}
        
        nav ul { display: flex; gap: 3rem; list-style: none; }
        nav a {
            text-decoration: none; color: var(--c-white); text-transform: uppercase;
            font-size: 0.8rem; letter-spacing: 2px; position: relative;
        }
        nav a::after {
            content: ''; position: absolute; bottom: -5px; left: 0; width: 0; height: 1px;
            background: var(--c-gold); transition: 0.4s var(--ease-out-expo);
        }
        nav a:hover::after { width: 100%; }

        /* --- 4. HERO SECTION (Petite version) --- */
        .page-header {
            position: relative;
            padding-top: 180px;
            padding-bottom: 80px;
            text-align: center;
            overflow: hidden;
        }
        .page-header h1 {
            font-family: var(--f-display); font-size: clamp(2.5rem, 5vw, 4rem);
            margin-bottom: 1rem;
        }
        .page-header p {
            color: #ccc; max-width: 600px; margin: 0 auto; font-size: 1.1rem;
        }
        
        #hero-canvas {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 0; pointer-events: none;
        }

        /* --- 5. LAYOUT GRID --- */
        .contact-layout {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 4rem;
            padding-bottom: 5rem;
        }

        /* --- 6. LEFT COLUMN (INFO) --- */
        .info-card {
            background: var(--c-glass);
            border: 1px solid var(--c-glass-border);
            padding: 2rem;
            border-radius: 4px;
            margin-bottom: 2rem;
            backdrop-filter: blur(10px);
        }
        .info-card h3 {
            font-family: var(--f-display); color: var(--c-gold);
            margin-bottom: 1.5rem; border-bottom: 1px solid rgba(255,255,255,0.1);
            padding-bottom: 0.5rem;
        }
        
        .contact-list li {
            list-style: none; margin-bottom: 1rem; display: flex; align-items: flex-start; gap: 1rem; color: #ccc; font-size: 0.95rem;
        }
        .contact-list i { color: var(--c-bordeaux); margin-top: 5px; }

        .quick-channels {
            display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;
        }
        .channel-btn {
            background: rgba(255,255,255,0.05);
            border: 1px solid transparent;
            padding: 1rem; text-align: center;
            border-radius: 4px; text-decoration: none; color: white;
            transition: 0.3s; display: flex; flex-direction: column; align-items: center; gap: 0.5rem;
        }
        .channel-btn:hover {
            border-color: var(--c-gold); background: rgba(212, 175, 55, 0.05);
        }
        .channel-btn i { font-size: 1.5rem; color: var(--c-gold); }
        .channel-btn span { font-size: 0.8rem; text-transform: uppercase; letter-spacing: 1px; }

        /* Map styling for dark mode */
        .map-container {
            border-radius: 4px; overflow: hidden; border: 1px solid var(--c-glass-border);
            height: 260px; position: relative;
        }
        .map-container iframe {
            width: 100%; height: 100%; border: 0;
            filter: grayscale(100%) invert(92%) contrast(83%); /* Dark mode map hack */
        }

        /* --- 7. RIGHT COLUMN (FORM) --- */
        .form-wrapper {
            background: rgba(10,10,10,0.6);
            border: 1px solid var(--c-glass-border);
            padding: 3rem; border-radius: 4px;
        }

        /* PILLS STYLE */
        .pills-container { display: flex; flex-wrap: wrap; gap: 0.8rem; margin-bottom: 2rem; }
        .pill {
            background: transparent;
            border: 1px solid rgba(255,255,255,0.2);
            color: #aaa;
            padding: 0.6rem 1.2rem;
            font-family: var(--f-body);
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: 0.3s;
            cursor: none; /* Pointer handled by JS cursor */
        }
        .pill:hover { border-color: var(--c-gold); color: white; }
        .pill.active {
            background: var(--c-bordeaux);
            border-color: var(--c-bordeaux);
            color: white;
            box-shadow: 0 0 15px rgba(93, 18, 18, 0.4);
        }

        /* INPUTS STYLE */
        .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-bottom: 1.5rem; }
        .form-group { margin-bottom: 1.5rem; position: relative; }
        
        .form-group label {
            display: block; font-size: 0.75rem; text-transform: uppercase; letter-spacing: 1px; color: var(--c-gold); margin-bottom: 0.5rem;
        }
        .form-input, .form-select, .form-textarea {
            width: 100%; background: transparent;
            border: none; border-bottom: 1px solid rgba(255,255,255,0.2);
            padding: 0.8rem 0; color: white; font-family: var(--f-body);
            transition: 0.3s; border-radius: 0;
        }
        .form-input:focus, .form-select:focus, .form-textarea:focus {
            outline: none; border-bottom-color: var(--c-gold); background: rgba(255,255,255,0.02);
        }
        .form-select option { background: var(--c-dark-grey); color: white; }

        .error-msg { color: #ff4444; font-size: 0.8rem; margin-top: 0.5rem; display: none; }
        .checkbox-group { display: flex; gap: 0.8rem; align-items: center; font-size: 0.9rem; color: #aaa; margin-bottom: 2rem; }
        
        /* BUTTONS */
        .actions { display: flex; gap: 1.5rem; flex-wrap: wrap; }
        .btn {
            flex: 1; padding: 1rem 2rem;
            border: 1px solid var(--c-gold);
            background: transparent; color: var(--c-white);
            text-transform: uppercase; letter-spacing: 2px; font-size: 0.8rem;
            position: relative; overflow: hidden; transition: all 0.4s ease;
            text-align: center; text-decoration: none; display: inline-flex; justify-content: center; align-items: center; gap: 10px;
        }
        .btn::before {
            content: ''; position: absolute; top: 0; left: 0; width: 0%; height: 100%;
            background: var(--c-gold); z-index: -1; transition: all 0.4s var(--ease-out-expo);
        }
        .btn:hover::before { width: 100%; }
        .btn:hover { color: var(--c-black); }

        .btn-filled { background: var(--c-bordeaux); border-color: var(--c-bordeaux); }
        .btn-filled:hover { color: var(--c-white); background: var(--c-bordeaux-dark); }
        
        .btn-whatsapp { border-color: #25D366; color: #25D366; }
        .btn-whatsapp::before { background: #25D366; }

        /* TOAST */
        .toast {
            position: fixed; top: 100px; right: 20px;
            background: rgba(34, 197, 94, 0.9); color: white;
            padding: 1rem 1.5rem; border-radius: 4px;
            backdrop-filter: blur(5px); z-index: 1000;
            display: none; box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            border: 1px solid rgba(255,255,255,0.2);
        }

        /* FOOTER (Same as Index) */
        footer { border-top: 1px solid var(--c-glass-border); padding: 5rem 5% 2rem; background: #020202; margin-top: 4rem;}
        .footer-grid { display: grid; grid-template-columns: 2fr 1fr 1fr 1fr; gap: 3rem; margin-bottom: 4rem; }
        .f-logo h3 { font-family: var(--f-display); font-size: 1.8rem; margin-bottom: 1rem; }
        .f-col h4 { color: var(--c-gold); margin-bottom: 1.5rem; font-size: 0.9rem; letter-spacing: 1px; }
        .f-col ul { list-style: none; }
        .f-col li { margin-bottom: 0.8rem; }
        .f-col a { color: #888; text-decoration: none; transition: 0.3s; font-size: 0.9rem; }
        .f-col a:hover { color: var(--c-white); }
        .f-bottom { text-align: center; font-size: 0.8rem; color: #444; border-top: 1px solid #111; padding-top: 2rem; }

        /* Responsive */
        @media (max-width: 900px) {
            .contact-layout { grid-template-columns: 1fr; }
            .form-grid { grid-template-columns: 1fr; }
            .page-header h1 { font-size: 2.5rem; }
            nav { display: none; }
        }
    </style>
</head>
<body>
    
    <!-- CUSTOM CURSOR -->
    <div class="cursor-dot"></div>
    <div class="cursor-outline"></div>

    <!-- HEADER -->
    <header id="header">
        <a href="index.html" class="logo">OPTIMUM Entreprise</a>
        <nav>
            <ul>
                <li><a href="index.html#about">L'Agence</a></li>
                <li><a href="index.html#services">Expertise</a></li>
                <li><a href="index.html#portfolio">Projets</a></li>
                <li><a href="index.html#contact">Contact</a></li>
            </ul>
        </nav>
        <!-- Mobile Menu trigger could go here -->
    </header>

    <!-- HEADER SECTION -->
    <section class="page-header">
        <canvas id="hero-canvas"></canvas>
        <div class="container">
            <h1>Contactez <span class="text-bordeaux">Optimum</span></h1>
            <p>Un point dâ€™entrÃ©e unique pour transformer votre vision en rÃ©alitÃ© digitale. RÃ©ponse garantie sous 24h ouvrÃ©es.</p>
        </div>
    </section>

    <!-- MAIN CONTACT CONTENT -->
    <div class="container">
        <div class="contact-layout">
            
            <!-- LEFT COLUMN: INFO & MAP -->
            <aside>
                <!-- Quick Channels -->
                <div class="info-card">
                    <h3>Canaux Rapides</h3>
                    <div class="quick-channels">
                        <a href="https://wa.me/243840665620" target="_blank" class="channel-btn">
                            <i class="fa-brands fa-whatsapp"></i> <span>WhatsApp</span>
                        </a>
                        <a href="mailto:optimumentreprise1@gmail.com" class="channel-btn">
                            <i class="fa-solid fa-envelope"></i> <span>Email</span>
                        </a>
                        <a href="tel:+243840665620" class="channel-btn">
                            <i class="fa-solid fa-phone"></i> <span>Appeler</span>
                        </a>
                        <a href="https://maps.google.com/?q=7+Avenue+KIWELE,+N27,+Makiso,+Kisangani" target="_blank" class="channel-btn">
                            <i class="fa-solid fa-location-dot"></i> <span>Maps</span>
                        </a>
                    </div>
                </div>

                <!-- Info List -->
                <div class="info-card">
                    <h3>CoordonnÃ©es</h3>
                    <ul class="contact-list">
                        <li><i class="fa-regular fa-clock text-gold"></i> <span>Lunâ€“Ven : 08:30â€“18:00<br>Sam : 09:00â€“13:00</span></li>
                        <li><i class="fa-solid fa-location-dot text-gold"></i> 7 Avenue KIWELE, NÂ° 27, Makiso, Kisangani (RDC)</li>
                        <li><i class="fa-solid fa-envelope text-gold"></i> optimumentreprise1@gmail.com</li>
                        <li><i class="fa-solid fa-phone text-gold"></i> +243 84 066 56 20</li>
                    </ul>
                </div>

                <!-- Map -->
                <div class="info-card" style="padding: 0; border: none; background: transparent;">
                    <div class="map-container">
                        <iframe
                            title="Optimum Entreprise - Localisation"
                            loading="lazy" allowfullscreen
                            referrerpolicy="no-referrer-when-downgrade"
                            src="https://www.google.com/maps?q=7+Avenue+KIWELE,+N%C2%B0+27,+Makiso,+Kisangani&output=embed">
                        </iframe>
                    </div>
                </div>
            </aside>

            <!-- RIGHT COLUMN: FORM -->
            <section>
                <div class="form-wrapper">
                    <h3 style="font-family: var(--f-display); font-size: 2rem; margin-bottom: 0.5rem;">Ã‰crivez-nous</h3>
                    <p style="color: #888; margin-bottom: 2rem; font-size: 0.9rem;">SÃ©lectionnez un service pour orienter votre demande.</p>

                    <!-- Service Pills -->
                    <div class="pills-container" id="service-pills">
                        <button class="pill active" data-service="Programmation">Programmation</button>
                        <button class="pill" data-service="SEO & Marketing">SEO & Marketing</button>
                        <button class="pill" data-service="Maintenance">Maintenance IT</button>
                        <button class="pill" data-service="Apps Mobile">Apps Mobile</button>
                        <button class="pill" data-service="Formation">Formation</button>
                        <button class="pill" data-service="Consulting">Consulting</button>
                        <button class="pill" data-service="Autre">Autre</button>
                    </div>

                    <form id="contact-form" novalidate>
                        <input type="text" name="website" autocomplete="off" tabindex="-1" style="display:none" aria-hidden="true"/>

                        <div class="form-grid">
                            <div class="form-group">
                                <label for="nom">Nom Complet</label>
                                <input id="nom" name="nom" type="text" class="form-input" required placeholder="Votre nom">
                                <p class="error-msg" data-error-for="nom">Nom requis</p>
                            </div>
                            <div class="form-group">
                                <label for="email">Email</label>
                                <input id="email" name="email" type="email" class="form-input" required placeholder="Ex: pro@gmail.com">
                                <p class="error-msg" data-error-for="email">Email invalide</p>
                            </div>
                        </div>

                        <div class="form-grid">
                            <div class="form-group">
                                <label for="phone">TÃ©lÃ©phone</label>
                                <input id="phone" name="phone" type="text" class="form-input" placeholder="+243 ...">
                            </div>
                            <div class="form-group">
                                <label for="budget">Budget EstimÃ©</label>
                                <select id="budget" name="budget" class="form-select">
                                    <option>Je ne sais pas</option>
                                    <option>&lt; 300 USD</option>
                                    <option>300 â€“ 800 USD</option>
                                    <option>800 â€“ 2 000 USD</option>
                                    <option>&gt; 2 000 USD</option>
                                </select>
                            </div>
                        </div>

                        <!-- Hidden select synced with pills -->
                        <div class="form-group" style="display:none;">
                            <select id="service" name="service" class="form-select">
                                <option>Programmation</option>
                                <option>SEO & Marketing</option>
                                <option>Maintenance</option>
                                <option>Apps Mobile</option>
                                <option>Formation</option>
                                <option>Consulting</option>
                                <option>Autre</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="objet">Objet</label>
                            <select id="objet" name="objet" class="form-select">
                                <option>Devis / Estimation</option>
                                <option>Brief Projet</option>
                                <option>Partenariat</option>
                                <option>Support / Maintenance</option>
                                <option>Autre</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="message">Message</label>
                            <textarea id="message" name="message" rows="4" class="form-textarea" required placeholder="DÃ©crivez vos besoins..."></textarea>
                            <p class="error-msg" data-error-for="message">Message requis</p>
                        </div>

                        <div class="checkbox-group">
                            <input id="rgpd" type="checkbox" required style="accent-color: var(--c-gold);">
                            <label for="rgpd">J'accepte d'Ãªtre recontactÃ©Â·e.</label>
                        </div>

                        <div class="actions">
                            <button type="submit" class="btn btn-filled">
                                <i class="fa-solid fa-paper-plane"></i> Envoyer
                            </button>
                            <a id="cta-whatsapp" target="_blank" class="btn btn-whatsapp">
                                <i class="fa-brands fa-whatsapp"></i> Via WhatsApp
                            </a>
                        </div>
                    </form>
                </div>
            </section>
        </div>
    </div>

    <div id="toast" class="toast"></div>

    <!-- FOOTER -->
    <footer>
        <div class="container">
            <div class="footer-grid">
                <div class="f-logo f-col">
                    <h3>OPTIMUM</h3>
                    <p style="color: #666; font-size: 0.9rem;">Agence digitale premium basÃ©e Ã  Kisangani, RDC. Nous faÃ§onnons le futur numÃ©rique de l'Afrique.</p>
                </div>
                <div class="f-col">
                    <h4>Agence</h4>
                    <ul>
                        <li><a href="index.html#about">Ã€ Propos</a></li>
                        <li><a href="#">CarriÃ¨res</a></li>
                        <li><a href="#">Mentions LÃ©gales</a></li>
                    </ul>
                </div>
                <div class="f-col">
                    <h4>Services</h4>
                    <ul>
                        <li><a href="#">DÃ©veloppement Web</a></li>
                        <li><a href="#">Apps Mobiles</a></li>
                        <li><a href="#">StratÃ©gie</a></li>
                    </ul>
                </div>
                <div class="f-col">
                    <h4>Contact</h4>
                    <ul>
                        <li><a href="tel:+243840665620">+243 84 066 56 20</a></li>
                        <li><a href="mailto:optimumentreprise1@gmail.com">Email</a></li>
                        <li style="color: #888; margin-top: 0.5rem;">7 Avenue KIWELE, NÂ°27<br>Makiso, Kisangani, RDC</li>
                    </ul>
                </div>
            </div>
            <div class="f-bottom">
                &copy; 2024 Optimum Entreprise. Excellence Digitale. Tous droits rÃ©servÃ©s.
            </div>
        </div>
    </footer>

    <script>
        // --- 1. CURSOR ---
        const cursorDot = document.querySelector('.cursor-dot');
        const cursorOutline = document.querySelector('.cursor-outline');
        window.addEventListener('mousemove', (e) => {
            cursorDot.style.left = `${e.clientX}px`; cursorDot.style.top = `${e.clientY}px`;
            cursorOutline.animate({ left: `${e.clientX}px`, top: `${e.clientY}px` }, { duration: 500, fill: "forwards" });
        });

        // --- 2. HEADER SCROLL ---
        window.addEventListener('scroll', () => {
            const header = document.getElementById('header');
            if(window.scrollY > 50) header.classList.add('scrolled');
            else header.classList.remove('scrolled');
        });

        // --- 3. PILLS LOGIC (Sync with Select & WhatsApp) ---
        (function(){
            const pills = document.querySelectorAll('#service-pills .pill');
            const select = document.getElementById('service');
            const objet  = document.getElementById('objet');

            function setActive(service){
                pills.forEach(p => {
                    if(p.dataset.service === service) {
                        p.classList.add('active');
                    } else {
                        p.classList.remove('active');
                    }
                });
                if(select) select.value = service;
                
                // Auto-select objet based on service
                if(objet){
                    if(service.includes('Programmation') || service.includes('Apps')) objet.value='Brief Projet';
                    else if(service.includes('Marketing')) objet.value='Devis / Estimation';
                    else if(service.includes('Maintenance')) objet.value='Support / Maintenance';
                    else objet.value='Devis / Estimation';
                }
                buildWhatsapp();
            }

            pills.forEach(p => p.addEventListener('click', (e) => {
                e.preventDefault(); // Prevent form submit if inside form
                setActive(p.dataset.service)
            }));
            
            select?.addEventListener('change',()=>setActive(select.value));
            
            // Input Listeners for Dynamic WhatsApp Link
            const inputs = ['nom', 'email', 'phone', 'budget', 'message', 'objet'];
            inputs.forEach(id => {
                document.getElementById(id)?.addEventListener('input', () => buildWhatsapp());
            });

            setActive('Programmation'); // Default
        })();

        // --- 4. WHATSAPP GENERATOR ---
        function buildWhatsapp(prefill){
            const btn = document.getElementById('cta-whatsapp');
            const service = document.getElementById('service')?.value;
            const objet = document.getElementById('objet')?.value;
            const nom = document.getElementById('nom')?.value;
            const email = document.getElementById('email')?.value;
            const phone = document.getElementById('phone')?.value;
            const budget = document.getElementById('budget')?.value;
            const message = document.getElementById('message')?.value;

            const d = prefill || {}; // Allows passing data directly on submit if needed
            
            // Logic: Use provided data OR current input values
            const finalNom = d.nom || nom;
            const finalEmail = d.email || email;
            
            const text = encodeURIComponent(
`Bonjour Optimum ðŸ‘‹
Je vous contacte via le site Web.

ðŸ”¹ Service : ${service}
ðŸ”¹ Objet : ${objet}

ðŸ‘¤ Nom : ${finalNom}
ðŸ“§ Email : ${finalEmail}
ðŸ“± Tel : ${d.phone || phone}
ðŸ’° Budget : ${d.budget || budget}

ðŸ“ Message :
${d.message || message}`
            );
            btn?.setAttribute('href', `https://wa.me/243840665620?text=${text}`);
        }

        // --- 5. FORM SUBMIT & VALIDATION ---
        const form = document.getElementById('contact-form');
        const toast = document.getElementById('toast');
        const err = name => document.querySelector(`[data-error-for="${name}"]`);
        const isEmail = v => /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v);

        form.addEventListener('submit', async (e) => {
            e.preventDefault();
            const data = Object.fromEntries(new FormData(form).entries());
            if(data.website) return; // Honeypot

            let ok = true;
            if(!data.nom?.trim()){ err('nom').style.display='block'; ok=false; } else err('nom').style.display='none';
            if(!isEmail(data.email||'')){ err('email').style.display='block'; ok=false; } else err('email').style.display='none';
            if(!data.message?.trim()){ err('message').style.display='block'; ok=false; } else err('message').style.display='none';
            if(!document.getElementById('rgpd').checked){ alert("Veuillez accepter le RGPD"); ok=false; }
            
            if(!ok) return;

            // Simulate sending or actual Fetch
            const btn = form.querySelector('button[type="submit"]');
            const originalText = btn.innerHTML;
            btn.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i> Envoi...';

            // Fake delay for UX
            setTimeout(() => {
                toast.textContent = 'Message envoyÃ© ! Nous vous recontacterons sous 24h.';
                toast.style.display = 'block';
                setTimeout(()=>toast.style.display='none', 4000);
                
                buildWhatsapp(data); // Update WhatsApp button with final data
                form.reset();
                btn.innerHTML = originalText;
            }, 1500);
        });

        // --- 6. CANVAS PARTICLES (Reuse from Index but simpler) ---
        const canvas = document.getElementById('hero-canvas');
        const ctx = canvas.getContext('2d');
        let width, height;
        let particles = [];
        const particleCount = 40; 

        function resize() { width = canvas.width = window.innerWidth; height = canvas.height = window.innerHeight; }
        
        class Particle {
            constructor() {
                this.x = Math.random() * width; this.y = Math.random() * height;
                this.vx = (Math.random() - 0.5) * 0.5; this.vy = (Math.random() - 0.5) * 0.5;
                this.size = Math.random() * 2; this.color = '#5d1212';
            }
            update() {
                this.x += this.vx; this.y += this.vy;
                if (this.x < 0 || this.x > width) this.vx *= -1;
                if (this.y < 0 || this.y > height) this.vy *= -1;
            }
            draw() {
                ctx.beginPath(); ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fillStyle = this.color; ctx.fill();
            }
        }

        function init() { particles = []; for(let i=0; i<particleCount; i++) particles.push(new Particle()); }
        function animate() {
            ctx.clearRect(0, 0, width, height);
            particles.forEach(p => { p.update(); p.draw(); });
            requestAnimationFrame(animate);
        }

        window.addEventListener('resize', () => { resize(); init(); });
        resize(); init(); animate();

    </script>
</body>
</html>